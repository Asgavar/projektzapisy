{% extends "enrollment/base.html" %}

{% block styles %}
	<link rel="stylesheet" href="/site_media/css/enrollment/subjects/subjects-list.css" type="text/css" />
	<link rel="stylesheet" href="/site_media/css/offer/prefs.css" type="text/css" />
{% endblock %}

{% block scripts %}
	<script src="/site_media/js/jquery/jquery-ui-1.8.1.custom.min.js" type="text/javascript"></script>
	<script src="/site_media/js/jquery/jquery.cookies.2.2.0.min.js" type="text/javascript"></script>
	<script src="/site_media/js/components/sidebar.js" type="text/javascript"></script>
	<script src="/site_media/js/enrollment/subjects/subjects-list.js" type="text/javascript"></script>
{% endblock %}

{% block main-navigation %}
	<li><a href="{% url main-page %}">Strona główna</a></li>
	<li><a href="{% url latest_news 'enrollment' %}">Zapisy</a></li>
	<li><a href="{% url subject-list %}">Przedmioty</a></li>
{% endblock %}

{% block top-bar %}
	<div id="od-vote-top-bar" class="main-top-bar"> <!-- TODO: domyślnie ukryty -->
		<fieldset>
			<legend><span>Filtrowanie</span></legend>
			<div class="main-filter-input">
				<input class="text" name="keyword" id="keyword" type="text" />
				<input class="reset" type="reset" value="X" /> <!-- TODO: do poprawienia jak w od -->
			</div>
		</fieldset>
		<fieldset style="width: 300px">
			<legend><span>Rodzaj przedmiotu</span></legend>
			<!-- TODO: grupowanie typow -->
			{% for key, name in types_list %}
				<span class="checkbox">
					<input class="type-list" type="checkbox" id="enr-subject-type-{{ key }}" value="{{ key }}" checked="checked" />
					<label for="enr-subject-type-{{ key }}">{{ name }}</label>
				</span>
			{% endfor %}
		</fieldset>
		<fieldset id="od-vote-other">
			<legend><span>Inne</span></legend>
			<span class="selectbox">
				Semestr:
				<select id="semester" name="semester">
					{% for semester in semester_subjects %}
						<option value='{{ semester.id }}'>{{ semester.name }}</option>
					{% endfor %}
				</select>
			</span><br />
			<span class="checkbox"><input type="checkbox" disabled="disabled" id="enr-hidesigned" /><label for="enr-hidesigned">Schowaj przedmioty na ktore bylem zapisany</label></span>
		</fieldset>
	</div>
{% endblock %}

{% block content %}
	<div id="subject-details">
		<p class="main-message">Wybierz przedmiot z menu po prawej.</p>
	</div>
{% endblock %}

{% block sidebar-class %}sidebar-right sidebar-visible{% endblock %}
{% block sidebar %}
	<div id="main-sidebar">
		<div id="subject-list">
			{% for semester in semester_subjects %}
				<div class="semester">
					<h2>Semestr {{ semester.name }}</h2>
					<input type="hidden" name="semester-id" value="{{ semester.id }}" />
					<ul>
						{% for subject in semester.subjects %}
							<li>
								<a onclick="loadSubjectDetails('{{ subject.slug }}', this)" id="todo-dummy-{{ subject.id }}">{{ subject.name }}</a>
								<input type="hidden" name="type" value="{{ subject.type }}" />
							</li>
						{% endfor %}
					</ul>
				</div>
			{% endfor %}
		</div>
	</div>
{% endblock %}
