{% extends "enrollment/base.html" %}

{% block main-subtitle %}Prototyp planu zajęć{% endblock %}

{% block styles %}
	<link rel="stylesheet" href="/site_media/css/common/schedule.css" type="text/css" />
	<link rel="stylesheet" href="/site_media/css/enrollment/schedule-prototype.css" type="text/css" />
{% endblock %}
{% block scripts %}
	<script src="/site_media/js/jquery/jquery-ui-1.8.1.custom.min.js" type="text/javascript"></script>
	<script src="/site_media/js/jquery/jquery.cookies.2.2.0.min.js" type="text/javascript"></script>
	<script src="/site_media/js/jquery/jquery.ui.schedule.js" type="text/javascript"></script>

	<script src="/site_media/js/components/sidebar.js" type="text/javascript"></script>
	<script src="/site_media/js/components/topBarFilter.js" type="text/javascript"></script>
	<script src="/site_media/js/components/schedule.js" type="text/javascript"></script>

	<script src="/site_media/js/common/listFilter.js" type="text/javascript"></script>
	<script src="/site_media/js/common/listFilter-subjectType.js" type="text/javascript"></script>

	<script src="/site_media/js/enrollment/records/subject-term.js" type="text/javascript"></script>
	<script src="/site_media/js/enrollment/views/schedule-prototype.js" type="text/javascript"></script>
{% endblock %}
 
{% block main-navigation %}
	<li><a href="{% url main-page %}">Strona główna</a></li>
	<li><a href="{% url latest_news 'enrollment' %}">Zapisy</a></li>
	<li>Prototyp planu</li>
{% endblock %}

{% block top-bar %}
	<div id="enr-schedulePrototype-top-bar" class="main-top-bar" style="display: none">
		<fieldset>
			<legend><span>Filtrowanie</span></legend>
			<div class="main-filter-input">
				<input class="text filter-phrase" type="text" />
				<input class="reset filter-phrase-reset" type="button" value="X" style="display:none;" />
			</div>
		</fieldset>
		<fieldset class="subject-type-filter">
			<legend><span>Rodzaj przedmiotu</span></legend>
			{% for type in types_list %}
				<span class="checkbox">
					<input type="checkbox" checked="checked" id="filter-subject-type-{{ type.id }}" {% if type.meta_type %} class="filter-subject-type-meta" {% endif %} value="{{ type.id }}"/>
					<input type="hidden" class="group-id" value="{{ type.group.id }}" />
					<label for="filter-subject-type-{{ type.id }}">{{ type.name }}</label>
				</span>
			{% endfor %}
		</fieldset>
		<fieldset id="enr-schedulePrototype-other">
			<legend><span>Inne</span></legend>
			<span class="checkbox"><input type="checkbox" id="enr-hidesigned" /><label for="enr-hidesigned">Schowaj przedmioty, na które byłem zapisany</label></span>
		</fieldset>
	</div>
{% endblock %}

{% block comment %}
    <div id="schedule-wrapper"
        pinUrl="{% url schedule-prototype-pin %}"
        unpinUrl="{% url schedule-prototype-unpin %}"
        assignUrl="{% url schedule-prototype-assign %}"
        resignUrl="{% url schedule-prototype-resign %}">
    </div>

    <div>
        <input id="btnAssignToAll" type="button" value="Zapisz mnie na przypięte przedmioty">
        <input id="blockUrl" type="button" value="Zablokuj plan" onClick="location.href='{% url schedule-prototype-block %}'">
        <input id="unblockUrl" type="button" value="Oblokuj plan" onClick="location.href='{% url schedule-prototype-unblock %}'">
    </div>
{% endblock %}

{% block content %}
	<div id="enr-schedulePrototype-scheduleContainer">
		<p>Nie masz włączonej obsługi javascript &ndash; aplikacja prototypu
			planu nie może bez niej działać.</p>
		<input type="hidden" name="pinned" value="{{ student_records.pinned }}" />
		<input type="hidden" name="enrolled" value="{{ student_records.enrolled }}" />
	</div>
{% endblock %}
 
{% block sidebar-class %}sidebar-right sidebar-visible sidebar-non-detachable{% endblock %}
{% block sidebar %}
	<div id="main-sidebar">
		<h2>Semestr {{ semester }}</h2>

		<ul id="enr-schedulePrototype-subject-list">
			{% for subject in subjects %}
			<li>
				<span class="checkbox"><input type="checkbox" id="enr-schedulePrototype-subject-{{ subject.subject.id }}" /></span>
				<label for="enr-schedulePrototype-subject-{{ subject.subject.id }}">{{ subject.subject.name }}</label>
				<input type="hidden" name="id" value="{{ subject.subject.id }}" />
				<input type="hidden" name="type" value="{{ subject.subject.type }}" />
				<input type="hidden" name="wasEnrolled" value="{{ subject.subject.was_enrolled }}" />
				{% for term in subject.terms %}
					<input type="hidden" name="term" value="{{ term }}" />
				{% endfor %}
			</li>
			{% endfor %}
		</ul>
	</div>
{% endblock %}
