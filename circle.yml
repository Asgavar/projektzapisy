general:
  build_dir: zapisy

machine:
  python:
    version: 2.7.10

dependencies:
  override:
    - pip install --upgrade pip
    - pip install -r requirements.test.txt

test:
  pre:
    - cp ../env/settings_local_test.py settings_local.py
  override:
    - mkdir logs
    - python manage.py test test_app
    # - coverage run manage.py test test_app
    - coverage run manage.py test apps.news
    - coverage run manage.py test apps.schedule
    - coverage run manage.py test apps.enrollment.courses
    - coverage run manage.py test apps.enrollment.records
    - coverage run manage.py test apps.grade.poll
    - coverage run manage.py test apps.users
  post:
    - coverage html -d $CIRCLE_ARTIFACTS
