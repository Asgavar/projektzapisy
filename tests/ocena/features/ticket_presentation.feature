Feature: Anonymous user wants to present tickets for polls in order to anonymously fill the polls

    Background:
        Given I start new scenario
        And the grading protocol is "on"
        And there are polls generated
        And there are keys generated for polls
        And I am on grade main page
        
    Scenario Outline: First entry of all the tickets
        When I follow "Oceń zajęcia"
        And I fill in "Podaj wygenerowane bilety:" with <ticket>
        And I press "Wyślij" 
        Then I should be on polls filling page
        Then I should not see "Nie udało się zweryfikować podpisu pod biletem."
        
        Examples:
            | ticket  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
            | "[Ankieta ogólna]Ankieta ogólna  id: 13  8281279545202840442435476939601063324916386981874125382902452755170857533495707024591077605139515200945498097673698912416328809358408674825892985975244731  61030730024350571780988647521055632330379742137961374123371045301947263392161917626376748651876448643016013331422202815132620821712889402128781607460211008566297091826536392938776281712942307240103468593575168920174307780704949933182049947847349913849641061029125512348091069002740631874169136855619970593457  ----------------------------------  [Ankieta wykładu]Przedmiot 1  wykład: Pracownik Testowy  id: 1  911067617573985478800099001749366103066545090498709689835603616698218658441974152616794440741910525785858727134830616724041259904384459335284316714673806  123900165639720207107183821855921981021912907020173667375577240503359555495067390378901689648044741121114379102816278235834323667762730235217240349105487432134285605767697262833289293876890726378876541362949064491741619292819181659228011869778296469291235085248197802326060133801069907303556422280374160656483  ----------------------------------  [Ankieta ćwiczeń]Przedmiot 1  ćwiczenia: Pracownik 1  id: 5  911067617573985478800099001749366103066545090498709689835603616698218658441974152616794440741910525785858727134830616724041259904384459335284316714673806  10383454906869525104141645050091214117118800701509345733417977561712790617289363613906836126198132230825807442367430414318189626223498943333166563912230415321260969827695615715240254219575007846319536729221437083042863667937419039196769643674907675944981978138932866729021914125342151020031395295348518868673  ----------------------------------  [Ankieta wykładu]Przedmiot 2 wykład: Pracownik 2  id: 2  6996914478562449268937169597750814196944367914353630317979072826535408675440877545279952870539136513317573154471725219061229676169848905166682201513631529  145837712715472041365658755676340008647059033165550222647702495770968971274769687779142167024787570912429917478046980049976033708931764792807293444641196918591137339468922479992835158763364276825132903706680385460594865630341363855030291426882289968009482450073292021655421140840137634519867660627143907296617  ----------------------------------  [Ankieta ćwiczeń]Przedmiot 2  ćwiczenia: Pracownik Testowy id: 8  1602641629465722142163416917908128766024555682359645497420231945630442990769012567021463520740640172491128434266589536493914578839833655947945008206217707  104353289300199643447932965833764736265803593171690693927093060181771122614765627264601822074474257522442763814475161568628540476738605983069282885662273291834367657345937672073620058321648569760562898565175709370011404873254196261504496370968823596021410239590864420765753697389321999973610031837487235528214  ----------------------------------  [Ankieta wykładu]Przedmiot 4  wykład: Pracownik 2  id: 4  4462562602039686619528229817452581727476306222484652518386598154643438197461878480816081992244720588730813838521039395751540823187210119204148946602922403  81047394063335834729420733490184369153252150268042391060255385655082085423243808359686084057960768352408360423076152204744680789520131042920098551976797001505603129821837838703162852245756629494089433249342018403073640717590982812445855661245648766533429551147995080004158257299487222631537859070468293552909  ---------------------------------- "|
        
    
    Scenario Outline: Entry of the tickets in order to edit the polls
        Given the grading protocol is "on"
        And I am on grade main page
        And I follow "Oceń zajęcia"
        And I fill in "Podaj wygenerowane bilety:" with <ticket>
        And I press "Wyślij" 
        And I sleep for 2 seconds
        When I follow "Ankiety ogólne"
        And I follow "Ankieta ogólna"
        And I fill in "poll-13_section-4_question-5-open" with "Matematycznych"
        And I fill in "poll-13_section-4_question-6-open" with "Praktycznych"
        And I press "Zapisz ankietę"
        And I am on grade main page
        When I follow "Oceń zajęcia"
        And I fill in "Podaj wygenerowane bilety:" with <ticket>
        And I press "Wyślij"
        Then I should not see "Nie udało się zweryfikować podpisu pod biletem."
        
        Examples:
            | ticket                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
            | "[Ankieta ogólna]Ankieta ogólna  id: 13  8281279545202840442435476939601063324916386981874125382902452755170857533495707024591077605139515200945498097673698912416328809358408674825892985975244731  61030730024350571780988647521055632330379742137961374123371045301947263392161917626376748651876448643016013331422202815132620821712889402128781607460211008566297091826536392938776281712942307240103468593575168920174307780704949933182049947847349913849641061029125512348091069002740631874169136855619970593457  ----------------------------------  [Ankieta wykładu]Przedmiot 1  wykład: Pracownik Testowy  id: 1  911067617573985478800099001749366103066545090498709689835603616698218658441974152616794440741910525785858727134830616724041259904384459335284316714673806  123900165639720207107183821855921981021912907020173667375577240503359555495067390378901689648044741121114379102816278235834323667762730235217240349105487432134285605767697262833289293876890726378876541362949064491741619292819181659228011869778296469291235085248197802326060133801069907303556422280374160656483  ----------------------------------  [Ankieta ćwiczeń]Przedmiot 1  ćwiczenia: Pracownik 1  id: 5  911067617573985478800099001749366103066545090498709689835603616698218658441974152616794440741910525785858727134830616724041259904384459335284316714673806  10383454906869525104141645050091214117118800701509345733417977561712790617289363613906836126198132230825807442367430414318189626223498943333166563912230415321260969827695615715240254219575007846319536729221437083042863667937419039196769643674907675944981978138932866729021914125342151020031395295348518868673  ----------------------------------  [Ankieta wykładu]Przedmiot 2 wykład: Pracownik 2  id: 2  6996914478562449268937169597750814196944367914353630317979072826535408675440877545279952870539136513317573154471725219061229676169848905166682201513631529  145837712715472041365658755676340008647059033165550222647702495770968971274769687779142167024787570912429917478046980049976033708931764792807293444641196918591137339468922479992835158763364276825132903706680385460594865630341363855030291426882289968009482450073292021655421140840137634519867660627143907296617  ----------------------------------  [Ankieta ćwiczeń]Przedmiot 2  ćwiczenia: Pracownik Testowy id: 8  1602641629465722142163416917908128766024555682359645497420231945630442990769012567021463520740640172491128434266589536493914578839833655947945008206217707  104353289300199643447932965833764736265803593171690693927093060181771122614765627264601822074474257522442763814475161568628540476738605983069282885662273291834367657345937672073620058321648569760562898565175709370011404873254196261504496370968823596021410239590864420765753697389321999973610031837487235528214  ----------------------------------  [Ankieta wykładu]Przedmiot 4  wykład: Pracownik 2  id: 4  4462562602039686619528229817452581727476306222484652518386598154643438197461878480816081992244720588730813838521039395751540823187210119204148946602922403  81047394063335834729420733490184369153252150268042391060255385655082085423243808359686084057960768352408360423076152204744680789520131042920098551976797001505603129821837838703162852245756629494089433249342018403073640717590982812445855661245648766533429551147995080004158257299487222631537859070468293552909  ---------------------------------- " |
            
            
    Scenario Outline: Failure - one of the tickets is not properly signed
        When I follow "Oceń zajęcia"
        And I fill in "Podaj wygenerowane bilety:" with <good_bad_ticket>
        And I press "Wyślij"
        Then I should see "Nie udało się zweryfikować podpisu pod biletem."        
        
        Examples:
            | good_bad_ticket                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 
            | "[Ankieta ogólna]Ankieta ogólna  id: 13  8281279545202840442435476939601063324916386981874125382902452755170857533495707024591077605139515200945498097673698912416328809358408674825892985975244731  61030730024350571780988647521055632330379742137961374123371045301947263392161917626376748651876448643016013331422202815132620821712889402128781607460211008566297091826536392938776281712942307240103468593575168920174307780704949933182049947847349913849641061029125512348091069002740631874169136855619970593457  ----------------------------------  [Ankieta wykładu]Przedmiot 1  wykład: Pracownik Testowy  id: 1  911067617573985478800099001749366103066545090498709689835603616698218658441974152616794440741910525785858727134830616724041259904384459335284316714673806  123900165639720207107183821855921981021912907020173667375577240503359555495067390378901689648044741121114379102816278235834323667762730235217240349105487432134285605767697262833289293876890726378876541362949064491741619292819181659228011869778296469291235085248197802326060133801069907303556422280374160656483  ----------------------------------  [Ankieta ćwiczeń]Przedmiot 1  ćwiczenia: Pracownik 1  id: 5  911067617573985478800099001749366103066545090498709689835603616698218658441974152616794440741910525785858727134830616724041259904384459335284316714673806  10383454906869525104141645050091214117118800701509345733417977561712790617289363613906836126198132230825807442367430414318189626223498943333166563912230415321260969827695615715240254219575007846319536729221437083042863667937419039196769643674907675944981978138932866729021914125342151020031395295348518868673  ----------------------------------  [Ankieta wykładu]Przedmiot 2 wykład: Pracownik 2  id: 2  6996914478562449268937169597750814196944367914353630317979072826535408675440877545279952870539136513317573154471725219061229676169848905166682201513631529  145837712715472041365658755676340008647059033165550222647702495770968971274769687779142167024787570912429917478046980049976033708931764792807293444641196918591137339468922479992835158763364276825132903706680385460594865630341363855030291426882289968009482450073292021655421140840137634519867660627143907296617  ----------------------------------  [Ankieta ćwiczeń]Przedmiot 2  ćwiczenia: Pracownik Testowy id: 8  1602641629465722142163416917908128766024555682359645497420231945630442990769012567021463520740640172491128434266589536493914578839833655947945008206217707  104353289300199643447932965833764736265803593171690693927093060181771122614765627264601822074474257522442763814475161568628540476738605983069282885662273291834367657345937672073620058321648569760562898565175709370011404873254196261504496370968823596021410239590864420765753697389321999973610031837487235528214  ----------------------------------  [Ankieta wykładu]Przedmiot 4  wykład: Pracownik 2  id: 4  4462562602039686619528229817452581727476306222484652518386598154643438197461878480816081992244720588730813838521039395751540823187210119204148946602922403  81047394063335834729420733490184369153252150268042391060255385655082085423243808359686084057960768352408360423076152204744680789520131042920098551976797001505603129821837838703162852245756629494089433249342018403073640717590982812445855661245648766533429551147995080004158257299487222631537859080468293552909  ---------------------------------- " |
    
    Scenario Outline: Failure - none of the tickets are properly signed
        When I follow "Oceń zajęcia"
        And I fill in "Podaj wygenerowane bilety:" with <bad_ticket>
        And I press "Wyślij"
        Then I should see "Nie udało się zweryfikować podpisu pod biletem."  

        Examples:
            | bad_ticket                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
            | "[Ankieta ogólna]Ankieta ogólna  id: 13  8281279545202840442435476939601063324916386981874125382902452755170857533495707024591077605139515200945498097673698912416328809358408674825892985975244731  61030730024350571780988647521055632330379742137961374123371045301947263392161917626376748651876448643016013331422202815132620821712889402128781607460211008566297091826536392938776281712942307240103468593575168920174307780704949933182049947847349913849641061029125512348091069002740631874169136855619970593450  ----------------------------------  [Ankieta wykładu]Przedmiot 1  wykład: Pracownik Testowy  id: 1  911067617573985478800099001749366103066545090498709689835603616698218658441974152616794440741910525785858727134830616724041259904384459335284316714673806  123900165639720207107183821855921981021912907020173667375577240503359555495067390378901689648044741121114379102816278235834323667762730235217240349105487432134285605767697262833289293876890726378876541362949064491741619292819181659228011869778296469291235085248197802326060133801069907303556422280374160656480  ----------------------------------  [Ankieta ćwiczeń]Przedmiot 1  ćwiczenia: Pracownik 1  id: 5  911067617573985478800099001749366103066545090498709689835603616698218658441974152616794440741910525785858727134830616724041259904384459335284316714673806  10383454906869525104141645050091214117118800701509345733417977561712790617289363613906836126198132230825807442367430414318189626223498943333166563912230415321260969827695615715240254219575007846319536729221437083042863667937419039196769643674907675944981978138932866729021914125342151020031395295348518868670  ----------------------------------  [Ankieta wykładu]Przedmiot 2 wykład: Pracownik 2  id: 2  6996914478562449268937169597750814196944367914353630317979072826535408675440877545279952870539136513317573154471725219061229676169848905166682201513631529  145837712715472041365658755676340008647059033165550222647702495770968971274769687779142167024787570912429917478046980049976033708931764792807293444641196918591137339468922479992835158763364276825132903706680385460594865630341363855030291426882289968009482450073292021655421140840137634519867660627143907296610  ----------------------------------  [Ankieta ćwiczeń]Przedmiot 2  ćwiczenia: Pracownik Testowy id: 8  1602641629465722142163416917908128766024555682359645497420231945630442990769012567021463520740640172491128434266589536493914578839833655947945008206217707  104353289300199643447932965833764736265803593171690693927093060181771122614765627264601822074474257522442763814475161568628540476738605983069282885662273291834367657345937672073620058321648569760562898565175709370011404873254196261504496370968823596021410239590864420765753697389321999973610031837487235528210  ----------------------------------  [Ankieta wykładu]Przedmiot 4  wykład: Pracownik 2  id: 4  4462562602039686619528229817452581727476306222484652518386598154643438197461878480816081992244720588730813838521039395751540823187210119204148946602922403  81047394063335834729420733490184369153252150268042391060255385655082085423243808359686084057960768352408360423076152204744680789520131042920098551976797001505603129821837838703162852245756629494089433249342018403073640717590982812445855661245648766533429551147995080004158257299487222631537859070468293552900  ---------------------------------- " |
      
